(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();const me=()=>{const r=document.createElement("div");return r.className="w-screen h-screen fixed top-0 left-0 bg-black opacity-0 animate-switch-component",r},pe=()=>{const r=document.createElement("div");return r.className="p-20 text-center h-[92vh] flex justify-center items-center",r.innerHTML=`
        <h1 class="font-bold text-purple-600 mb-4 2xs:text-xl xs:text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl">404 Not Found</h1>
    `,r},xe={string:/^.+$/,number:/^\d+$/,uuid:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,slug:/^[a-z0-9]+(?:-[a-z0-9]+)*$/},O=r=>{let t=r;const e=[];return{get:()=>t,set:o=>{t=o,e.forEach(c=>c(t))},subscribe:o=>{e.push(o)}}},ue=(r,t)=>{const e=t.path.split("/").filter(Boolean),a=r.split("/").filter(Boolean);if(e.length!==a.length)return null;const s={};for(let n=0;n<e.length;n++)if(e[n].startsWith(":")){const o=e[n].slice(1),c=decodeURIComponent(a[n]),i=t.paramTypes?.[o]||"string";if(!xe[i].test(c))return null;s[o]=c}else if(e[n]!==a[n])return null;return s},ge=(r,t)=>{const e=O(window.location.pathname||"/"),a=()=>{const n=window.location.pathname||"/";e.set(n);let o=null;for(const i of t){const d=ue(n,i);if(d){o={route:i,params:d};break}}const c=me();r.innerHTML="",r.appendChild(c),setTimeout(()=>{o?r.appendChild(o.route.component(o.params)):r.appendChild(pe()),setTimeout(()=>c.remove(),1100)},100)};window.addEventListener("popstate",a);const s=n=>{n.startsWith("/")||(n=`/${n}`),window.history.pushState({},"",n),a()};return a(),{currentPath:e,navigate:s}},ce=r=>{document.title=r},K=(r,t,e,a)=>{if(!t||!e||!a){r();return}const s=a.get(e);let n=!0;s&&(n=t.some((o,c)=>o!==s[c])),n&&(r(),a.set(e,t))},M=()=>{const r=new URLSearchParams(window.location.search),t=O({});return r.forEach((e,a)=>t.set({...t.get(),[a]:e})),t.toString=()=>Object.entries(t.get()).map(([e,a])=>`${e}=${a}`).join("&"),t},le=(r,t,e)=>{const a=new URLSearchParams(window.location.search);a.delete(t),t&&e&&t!==e&&a.set(t,e.replace(/\s+/g,"-").toLowerCase());const s=r.get().split("?")[0],n=a.toString();r.set(`${s}?page=1&limit=12&${n}`);const o=window.location.pathname;window.history.pushState({},"",`${o}${n?`?${n}`:""}`)},he=(r,t)=>{const e=document.createElement("header");e.id="header",e.className="bg-inherit flex justify-between items-center fixed top-0 left-0 z-20 w-full border-b border-card p-3 h-[6vh] text-[.8rem] 2xs:p-4 2xs:h-[8vh] 2xs:text-[1rem] xs:p-6 xs:h-[9vh] xs:text-[1.2rem] sm:p-8 sm:h-[10vh] sm:text-[1.4rem] md:p-8 md:h-[12vh] md:text-[1.6rem] lg:p-10 lg:text-[1.8rem] xl:p-12 xl:text-[2rem] transition-all duration-300 ease-in-out";const a=document.createElement("div");a.className="flex items-center h-full w-[15%] min-w-[100px] ml-2 sm:ml-4",e.appendChild(a);const s=document.createElement("img");s.src="./images/logo.png",s.alt="logo",s.className="w-full cursor-pointer hover:opacity-80 transition duration-300",s.addEventListener("click",()=>t("/")),a.appendChild(s);const n=document.createElement("nav");n.className="flex items-center h-full gap-x-6 sm:gap-x-8 md:gap-x-10",e.appendChild(n);const o="/favorites",c=document.createElement("a");c.id="favorites",c.href=o,c.innerHTML='<i class="fa-regular fa-heart"></i>',c.className="hover:text-purple-600 transition-colors duration-300 cursor-pointer",o===r.get()&&c.classList.add("text-purple-600"),c.addEventListener("click",x=>{x.preventDefault(),t(o)}),r.subscribe(x=>{x===o?c.classList.add("text-purple-600"):c.classList.remove("text-purple-600")}),n.appendChild(c);const i=document.createElement("i"),d=()=>{document.documentElement.classList.contains("dark")?i.innerHTML='<i class="fa-regular fa-moon cursor-pointer hover:text-purple-600 transition-colors duration-300"></i>':i.innerHTML='<i class="fa-regular fa-sun cursor-pointer hover:text-purple-600 transition-colors duration-300"></i>',i.onclick=()=>{document.documentElement.classList.toggle("dark"),localStorage.setItem("theme",document.documentElement.classList.contains("dark")?"dark":"light"),d()},n.appendChild(i)};return d(),e},I=(r,t)=>{const e=document.createElement("div");return e.className="p-5 text-center h-[50vh] order-2 w-full flex flex-col gap-y-5 justify-center items-center 2xs:gap-y-6 xs:gap-y-8 sm:gap-y-10 md:gap-y-12 lg:gap-y-14 xl:gap-y-16 sm:col-span-2 md:col-span-3 xl:col-span-4 2xs:h-[60vh] sm:h-[65vh] md:h-[70vh] lg:h-[75vh] xl:h-[80vh]",e.innerHTML=`
                <h1 class="font-extrabold text-purple-600 text-lg 2xs:text-xl xs:text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl">${t||"Something went wrong"}</h1>
                <button id="try-again" class="bg-purple-400 bg-opacity-30 text-white px-8 py-2 rounded-md hover:bg-purple-700 transition duration-300 text-sm 2xs:text-lg xs:text-xl sm:text-2xl md:text-3xl md:py-3 lg:py-4 xl:py-5">Try Again</button>
        `,e.querySelector("#try-again").addEventListener("click",()=>{r()}),e},fe=r=>new URLSearchParams(window.location.search).get(r.toLowerCase())||"",W=(r,t)=>{const e=document.createElement("div");e.className="relative min-h-[4vh] border border-card text-light-primary dark:text-primary rounded-[10px] 2xs:rounded-[12px] xs:rounded-[16px] sm:rounded-[18px] md:rounded-[22px] lg:rounded-[24px] xl:rounded-[30px] bg-light-card dark:bg-card transition duration-300 ease-in-out";const a=document.createElement("div");a.className="flex items-center justify-between gap-x-2 min-h-[4vh] px-4 2xs:py-2 xs:py-4 sm:px-5 lg:px-4 cursor-pointer select-none";const s=document.createElement("span");s.className="truncate max-w-[12rem] sm:max-w-[16rem]",s.textContent=t[0].name,a.append(s);const n=document.createElement("i");n.className="fa-solid fa-chevron-down",a.append(n),e.append(a);const o=document.createElement("div");o.className="dropdown absolute z-10 max-h-[30vh] overflow-y-auto top-full left-0 bg-light-card border border-card dark:bg-card mt-2 rounded-[10px] 2xs:rounded-[12px] xs:rounded-[16px] sm:rounded-[18px] md:rounded-[22px] lg:rounded-[26px] xl:rounded-[30px] hidden flex-col gap-y-2 shadow-lg",e.append(o);let c=null;return t.forEach(i=>{const d=document.createElement("div");d.className="px-6 py-3 cursor-pointer hover:bg-light-card dark:bg-card transition-colors truncate",d.textContent=i.name,d.dataset.value=i.slug,i.name===s.textContent&&(c=d,d.classList.add("text-light-primary","dark:text-primary","bg-opacity-10")),i.slug===fe(t[0].slug)&&(d.classList.add("text-light-primary","dark:text-primary","bg-opacity-10"),c?.classList.remove("text-light-primary","dark:text-primary","bg-opacity-10"),s.textContent=i.name),o.append(d)}),e.addEventListener("click",()=>{o.classList.toggle("hidden")}),o.addEventListener("click",i=>{i.stopPropagation();const d=i.target;if(!d)return;o.querySelectorAll("div").forEach(f=>{f.classList.remove("text-light-primary","dark:text-primary","bg-opacity-10")}),d.classList.add("text-light-primary","dark:text-primary","bg-opacity-10");const x=t[0].slug;le(r,x,d.dataset.value||""),s.textContent=d.textContent||"",o.classList.add("hidden")}),document.addEventListener("click",i=>{e.contains(i.target)||o.classList.add("hidden")}),e},Z="https://debuggers-games-api.duckdns.org",de=r=>{const t=document.createElement("div");t.className="flex flex-wrap min-h-[4vh] gap-4 justify-start items-center px-4 text-[0.8rem] 2xs:text-[1rem] xs:text-[1.2rem] sm:text-[1.4rem] md:text-[1.6rem] lg:text-[1.4rem] xl:text-[1.6rem]";const e=async()=>{try{t.innerHTML="",t.classList.remove("justify-center","w-full"),t.classList.add("justify-start");const[{genres:a},{platforms:s}]=await Promise.all([fetch(`${Z}/api/genres`).then(n=>n.json()),fetch(`${Z}/api/platforms`).then(n=>n.json())]);t.append(W(r,[{name:"Genres",slug:"genre"},...a])),t.append(W(r,[{name:"Platforms",slug:"platform"},...s])),t.append(W(r,[{name:"Ratings",slug:"rating"},{name:"1 Star",slug:"1"},{name:"2 Stars",slug:"2"},{name:"3 Stars",slug:"3"},{name:"4 Stars",slug:"4"},{name:"5 Stars",slug:"5"}]))}catch{t.classList.remove("justify-start"),t.classList.add("justify-center","w-full"),t.innerHTML="",t.append(I(e,"Error Loading Filters"))}};return e(),t},Q=r=>{const t=document.createElement("div");return t.className="p-5 text-center h-[50vh] flex justify-center items-center sm:col-span-2 md:col-span-3 xl:col-span-4",t.innerHTML=`
        <h1 class="font-bold text-purple-600 mb-4 text-lg 2xs:text-xl xs:text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl">${r}</h1>
    `,t};let L=JSON.parse(localStorage.getItem("favoriterGames")||"[]");const ee=r=>{L.push(r),localStorage.setItem("favoriterGames",JSON.stringify(L))},te=r=>{L=L.filter(t=>t.id!==r.id),localStorage.setItem("favoriterGames",JSON.stringify(L))},ve=r=>L.find(t=>t.id===r.id),H=r=>{const t=document.createElement("div");t.className="h-[40vh] w-full border border-card bg-light-card dark:bg-card rounded-[10px] overflow-hidden opacity-100 scale-[1] transition duration-[1s] ease-in-out cursor-pointer xs:h-[45vh] lg:h-[55vh] xl:h-[65vh] text-[0.8rem] 2xs:text-[1rem] xs:text-[1.2rem] sm:text-[1.4rem] md:text-[1.1rem] lg:text-[1.5rem] xl:text-[1.6rem]",t.dataset.id=r.id.toString(),t.dataset.game=JSON.stringify(r);const e=()=>{t.innerHTML="";const a=document.createElement("div");a.className="h-3/5 relative",t.append(a);const s=document.createElement("div");s.className="absolute top-0 left-0 w-full h-full bg-black opacity-25 hover:opacity-0 transition duration-300 ease-in-out",a.append(s);const n=document.createElement("i");n.className="absolute top-2 right-2 transform z-[1] bg-light-card dark:bg-card p-2 rounded-full w-[4vh] h-[4vh] flex items-center justify-center bg-opacity-50 cursor-pointer xs:w-[5vh] xs:h-[5vh] xs:p-4 xs:top-3 xs:right-3 lg:w-[6vh] lg:h-[6vh] lg:p-6 lg:top-4 lg:right-4",ve(r)?(n.classList.add("text-red-500","fa-solid","fa-heart"),n.addEventListener("click",l=>{l.stopPropagation(),te(r),e()})):(n.classList.add("text-light-primary","dark:text-primary","fa-regular","fa-heart"),n.addEventListener("click",l=>{l.stopPropagation(),ee(r),e()})),a.append(n);const o=document.createElement("img");o.src=r.background_image,o.alt=r.name,o.className="w-full h-full object-cover",a.append(o);const c=document.createElement("div");c.className="h-2/5 p-4 flex flex-col justify-between 2xs:p-6 xs:p-4 lg:p-7",t.append(c);const i=document.createElement("h3");i.className="font-extrabold w-82 truncate",i.textContent=r.name,c.append(i);const d=document.createElement("p");d.className="text-light-secondary dark:text-secondary w-82 truncate",d.textContent=r.genres.map(l=>l.name).join(", "),c.append(d);const x=document.createElement("div");x.className="flex items-center justify-between",c.append(x);const f=document.createElement("p");f.className="text-light-secondary dark:text-secondary",f.innerHTML=`<i class="fa-regular fa-star text-yellow-400"></i> ${r.rating}`,x.append(f);const b=document.createElement("p");b.className="text-light-secondary dark:text-secondary",b.textContent=`${r.released}`,x.append(b),t.setAttribute("draggable","true");const m=document.getElementById("favorites");t.addEventListener("dragstart",l=>{const p=l.currentTarget;l.dataTransfer?.setData("draggedCardId",p?.dataset?.id);const h=document.getElementById("favorites");L.find(E=>E.id===parseInt(p?.dataset?.id))?(h.children[0].classList.remove("fa-heart"),h.children[0].classList.add("fa-trash-can")):(h.children[0].classList.remove("fa-trash-can"),h.children[0].classList.add("fa-heart"));const g=t.cloneNode(!0);g.style.width=`${t.offsetWidth/2}px`,g.style.height=`${t.offsetHeight/2}px`,g.style.fontSize=`${parseFloat(getComputedStyle(t).fontSize)/2}px`,g.querySelector("i.fa-heart")?.remove(),document.body.appendChild(g),l.dataTransfer?.setDragImage(g,g.offsetWidth/2,g.offsetHeight/2),setTimeout(()=>{document.body.removeChild(g)},0),p.classList.remove("opacity-100","scale-[1]","duration-[1s]"),p.classList.add("opacity-50","scale-[0.5]","cursor-grabbing","transition-all","duration-300")}),t.addEventListener("drag",l=>{const p=l.currentTarget;p.classList.remove("opacity-100","scale-[1]","duration-[1s]"),p.classList.add("opacity-50","scale-[0.5]","cursor-grabbing","transition-all","duration-300"),(l.clientY<p.offsetTop-400||l.clientY>p.offsetTop+400)&&window.scrollBy({top:l.clientY-p.offsetTop,behavior:"smooth"})}),t.addEventListener("dragover",l=>{l.preventDefault();const p=l.currentTarget;p.classList.remove("opacity-100","scale-[1]","duration-[1s]"),p.classList.add("opacity-50","scale-[0.5]","cursor-grabbing","transition-all","duration-300");const h=t.parentElement,v=p.getBoundingClientRect(),g=10;l.clientY<v.top+50?h.scrollBy({top:-g,behavior:"smooth"}):l.clientY>v.bottom-50&&h.scrollBy({top:g,behavior:"smooth"})}),t.addEventListener("dragend",l=>{l.preventDefault();const p=l.currentTarget;m.children[0].classList.contains("fa-trash-can")&&!m.children[0].classList.contains("animate-twerk")&&(m.children[0].classList.remove("fa-trash-can"),m.children[0].classList.add("fa-heart")),p.classList.remove("opacity-50","scale-[0.5]","cursor-grabbing","transition-all","duration-300"),p.classList.add("opacity-100","scale-[1]","duration-[1s]")}),t.addEventListener("dragleave",l=>{const p=l.currentTarget;p.classList.remove("opacity-50","scale-[0.5]","cursor-grabbing","transition-all","duration-300"),p.classList.add("opacity-100","scale-[1]","duration-[1s]")}),t.addEventListener("drop",l=>{l.preventDefault();const p=l.dataTransfer?.getData("draggedCardId"),h=document.querySelector(`[data-id="${p}"]`),v=l.currentTarget,g=v.parentElement,E=h.nextElementSibling;if(v.classList.add("opacity-100","scale-[1]","duration-[1s]"),v.classList.remove("opacity-50","scale-[0.5]","cursor-grabbing","transition-all","duration-300","ease-in-out"),v.insertAdjacentElement("afterend",h),g.insertBefore(v,E),window.location.pathname==="/favorites"){const w=JSON.parse(h.dataset.game),S=JSON.parse(v.dataset.game),k=L.findIndex(C=>C.id===w.id),j=L.findIndex(C=>C.id===S.id);L[k]=S,L[j]=w,localStorage.setItem("favoriterGames",JSON.stringify(L))}}),m.ondragover=l=>{l.preventDefault()},m.ondrop=l=>{l.preventDefault();const p=l.dataTransfer?.getData("draggedCardId"),h=document.querySelector(`[data-id="${p}"]`),v=JSON.parse(h.dataset.game),g=L.find(w=>w.id===parseInt(p));if(m.children[0].classList.add("animate-twerk"),g){if(te(v),setTimeout(()=>{console.log("test"),m.children[0].classList.remove("animate-twerk"),m.children[0].classList.remove("fa-trash-can"),m.children[0].classList.add("fa-heart")},1500),window.location.pathname==="/favorites"){if(L.length===0){const w=document.querySelector("#gamecontainer");w.innerHTML="",w.append(Q("No Games In Favorites"))}h.remove()}}else ee(v),setTimeout(()=>{m.children[0].classList.remove("animate-twerk")},1500);const E=H(v);h.replaceWith(E)}};return e(),t.addEventListener("click",()=>{_.navigate(`/game/${r.id}`)}),t},X=()=>{const r=document.createElement("div");r.className="flex justify-center items-center h-[50vh]";const t=document.createElement("div");t.className="relative w-[8vh] h-[8vh] bg-light-card dark:bg-card rounded-full 2xs:w-[10vh] 2xs:h-[10vh] xs:w-[12vh] xs:h-[12vh] sm:w-[14vh] sm:h-[14vh] md:w-[16vh] md:h-[16vh] xl:w-[18vh] xl:h-[18vh]",r.append(t);const e=document.createElement("i");e.className="w-full h-full rounded-full flex justify-center items-center text-purple-600 fa-solid fa-gamepad text-[1.5rem] 2xs:text-[2rem] xs:text-[2.5rem] sm:text-[3rem] lg:text-[3.2rem] xl:text-[3.5rem]",t.append(e);const a=document.createElement("div");return a.className="absolute top-0 left-0 w-full h-full rounded-full bg-transparent border-4 border-dashed border-purple-600 animate-spin-slow",t.append(a),r},ae=async r=>{const e=await(await fetch(r)).json();return[e.results,e.next]},re=new IntersectionObserver(r=>{r.forEach(t=>{const e=t.target;t.isIntersecting?(e.classList.remove("opacity-0","scale-[.5]"),e.classList.add("opacity-100","scale-[1]")):(e.classList.remove("opacity-100","scale-[1]"),e.classList.add("opacity-0","scale-[.5]"))})}),ye=(r,t)=>{const e=document.createElement("div");e.className="grid grid-cols-1 gap-y-5 p-4 my-4 sm:grid-cols-2 sm:gap-x-5 md:grid-cols-3 xl:grid-cols-4 lg:my-8";const a=X(),s=()=>{let n=1,o=!1;e.innerHTML="";const c=document.createElement("div");e.append(c);const i=new IntersectionObserver(async d=>{if(o&&(a.classList.remove("h-screen"),a.classList.add("h-[10vh]","sm:col-span-2","md:col-span-3","xl:col-span-4"),e.append(a),d[0].isIntersecting))try{r.set(M().get());const[x,f]=await ae(`https://debuggers-games-api.duckdns.org/api/games?page=${n}&limit=24&${r.toString()}`);f||(o=!1),a.remove(),x.forEach(b=>{const m=H(b);e.insertBefore(m,c),requestAnimationFrame(()=>re.observe(m))}),n++}catch{e.innerHTML="",e.append(I(s))}});K(async()=>{a.classList.add("sm:col-span-2","md:col-span-3","xl:col-span-4"),e.append(a);try{const[d,x]=await ae(t.get());if(d.length===0){e.append(Q("No Games Found")),a.remove();return}d.forEach(f=>{const b=H(f);e.insertBefore(b,c),requestAnimationFrame(()=>re.observe(b))}),x&&(o=!0),n++,i.observe(c),a.remove()}catch{e.innerHTML="",e.append(I(s))}},[])};return t.subscribe(s),s(),e},be=new URLSearchParams(window.location.search),Y=O(be.get("search")||""),ie=r=>{const t=document.createElement("div");t.className="relative w-full h-[5vh] 2xs:h-[7vh] xs:h-[8vh] sm:h-[9vh] md:h-[8vh] flex items-center justify-center px-4 text-[0.8rem] 2xs:text-[1rem] xs:text-[1.2rem] sm:text-[1.4rem] md:text-[1.6rem] lg:text-[1.4rem] xl:text-[1.6rem] lg:w-[45%]";const e=document.createElement("button");e.className="absolute left-4 top-1/2 -translate-y-1/2 text-light-primary dark:text-primary border-r-2 border-primary flex items-center justify-center w-[12%] sm:w-[10%] md:w-[8%] lg:w-[15%] h-[70%] bg-inherit rounded-l-[10px] 2xs:rounded-l-[12px] xs:rounded-l-[16px] sm:rounded-l-[18px] md:rounded-l-[22px] lg:rounded-l-[20px] xl:rounded-l-[30px] transition-all duration-300 ease-in-out hover:text-purple-400",e.innerHTML='<i class="fa-solid fa-magnifying-glass"></i>',t.append(e);const a=document.createElement("input");return a.className="w-full h-full border-2 border-primary rounded-[10px] 2xs:rounded-[12px] xs:rounded-[16px] sm:rounded-[18px] md:rounded-[22px] lg:rounded-[20px] xl:rounded-[30px] bg-light-card dark:bg-card pl-[18%] sm:pl-[14%] md:pl-[10%] lg:pl-[18%] text-light-primary dark:text-primary placeholder:text-light-secondary dark:text-secondary transition-all duration-300 ease-in-out focus:outline-none focus:border-purple-500",a.placeholder="Search for a game...",a.value=Y.get(),a.addEventListener("focus",()=>{e.classList.remove("border-primary","text-light-primary","dark:text-primary"),e.classList.add("border-purple-500","text-purple-500")}),a.addEventListener("blur",()=>{e.classList.remove("border-purple-500","text-purple-500"),e.classList.add("border-primary","text-light-primary","dark:text-primary")}),a.addEventListener("input",s=>{const n=s.target;Y.set(n.value),le(r,"search",Y.get()||"")}),t.append(a),t};ce("Tofa7iTS - Home");const Le=()=>{const r=M(),t=O(`https://debuggers-games-api.duckdns.org/api/games?page=1&limit=24&${r.toString()}`);document.getElementById("header").classList.remove("hidden"),document.getElementById("details-header")?.remove();const a=document.createElement("div");return a.className="mt-[8vh] 2xs:mt-[10vh] xs:mt-[11vh] sm:mt-[12vh] md:mt-[15vh]",(()=>{a.innerHTML="";const n=document.createElement("div");n.className="flex flex-col flex-wrap gap-y-6 2xs:gap-y-7 xs:gap-y-8 sm:gap-y-9 md:gap-y-10 lg:flex-row lg:gap-x-2 xl:justify-between",n.append(ie(t)),n.append(de(t)),a.append(n);const o=ye(r,t);a.append(o)})(),a},ne=new IntersectionObserver(r=>{r.forEach(t=>{const e=t.target;t.isIntersecting?(e.classList.remove("opacity-0","scale-[.5]"),e.classList.add("opacity-100","scale-[1]")):(e.classList.remove("opacity-100","scale-[1]"),e.classList.add("opacity-0","scale-[.5]"))})}),se=(r,t)=>{const e=new URLSearchParams(r);let a=t;const s=parseInt(e.get("page")||"1"),n=parseInt(e.get("limit")||"12");if(e.get("genre")){const o=e.get("genre");a=a.filter(c=>c.genres.map(i=>i.slug).includes(o.toLowerCase()))}if(e.get("platform")){const o=e.get("platform");a=a.filter(c=>c.platforms.map(i=>i.platform.slug).includes(o.toLowerCase()))}if(e.get("rating")){const o=e.get("rating");a=a.filter(c=>c.rating>=parseFloat(o))}if(e.get("search")){const o=e.get("search");a=a.filter(c=>c.name.toLowerCase().includes(o.toLowerCase()))}return[a.slice((s-1)*n,s*n),a.length>s*n]},we=(r,t)=>{let e=JSON.parse(localStorage.getItem("favoriterGames")||"[]");const a=document.createElement("div");a.id="gamecontainer",a.className="grid grid-cols-1 gap-y-5 p-4 my-4 sm:grid-cols-2 sm:gap-x-5 md:grid-cols-3 xl:grid-cols-4 lg:my-8";const s=X(),n=()=>{let o=1,c=!1;a.innerHTML="";const i=document.createElement("div");a.append(i);const d=new IntersectionObserver(x=>{if(c&&(s.classList.remove("h-screen"),s.classList.add("h-[10vh]","col-span-2"),a.append(s),x[0].isIntersecting))try{r.set(M().get());const[f,b]=se(`page=${o}&limit=12&${r.toString()}`,e);b||(c=!1),s.remove(),f.forEach(m=>{const l=H(m);a.insertBefore(l,i),requestAnimationFrame(()=>ne.observe(l))}),o++}catch{a.innerHTML="",a.append(I(n))}});K(()=>{try{s.classList.add("col-span-2"),a.append(s);const[x,f]=se(t.get().split("?")[1],e);if(x.length===0){a.append(Q("No Games In Favorites")),s.remove();return}x.forEach(b=>{const m=H(b);a.insertBefore(m,i),requestAnimationFrame(()=>ne.observe(m))}),f&&(c=!0),o++,d.observe(i),s.remove()}catch{a.innerHTML="",a.append(I(n))}},[])};return t.subscribe(n),n(),a};ce("Tofa7iTS - Favorites");const Ee=()=>{const r=M(),t=O(`page=1&limit=24&${r.toString()}`);document.getElementById("header").classList.remove("hidden"),document.getElementById("details-header")?.remove();const a=document.createElement("div");return a.className="mt-[8vh] 2xs:mt-[10vh] xs:mt-[11vh] sm:mt-[12vh] md:mt-[15vh] lg:mt-[17vh] xl:mt-[20vh]",(()=>{a.innerHTML="";const n=document.createElement("div");n.className="flex flex-col flex-wrap gap-y-6 2xs:gap-y-7 xs:gap-y-8 sm:gap-y-9 md:gap-y-10 lg:flex-row lg:gap-x-2 xl:justify-between",n.append(ie(t)),n.append(de(t)),a.append(n);const o=we(r,t);a.append(o)})(),a};let T=JSON.parse(localStorage.getItem("favoriterGames")||"[]");const Ne=r=>{T.push(r),localStorage.setItem("favoriterGames",JSON.stringify(T))},Ce=r=>{T=T.filter(t=>t.id!==r.id),localStorage.setItem("favoriterGames",JSON.stringify(T))},V=r=>T.find(t=>t.id===r.id),Se=r=>{const{id:t}=r;let e={};const a=document.createElement("div");document.getElementById("header").classList.add("hidden");const n=document.createElement("div");n.id="details-header",n.className="bg-inherit flex justify-between items-center py-4 px-8 fixed z-20 top-0 w-full h-[6vh] border-b border-card text[0.8rem] 2xs:text-[1rem] xs:text-[1.2rem] sm:text-[1.4rem] md:text-[1.6rem] lg:text-[1.4rem] xl:text-[1.6rem] 2xs:h-[8vh] xs:h-[9vh] sm:h-[10vh] md:h-[12vh] lg:h-[14vh] xl:h-[16vh]",document.body.prepend(n);const o=document.createElement("i");o.className="fa-solid fa-arrow-left cursor-pointer",o.addEventListener("click",()=>{history.back()}),n.append(o);const c=document.createElement("h1");c.className="font-bold",c.textContent="Game Details",n.append(c);const i=document.createElement("i");i.innerHTML='<i class="fa-regular fa-sun cursor-pointer hover:text-purple-600"></i>',n.appendChild(i);let d=document.createElement("button");const x=()=>{a.innerHTML="",a.className="mt-[6vh] pb-5 2xs:mt-[8vh] xs:mt-[9vh] sm:mt-[10vh] md:mt-[12vh] lg:mt-[14vh] xl:mt-[16vh]";const m=document.createElement("div");m.className="flex w-full h-[30vh] items-center justify-center sm:h-[40vh] md:h-[50vh] lg:h-[60vh] xl:h-[85vh]";const l=document.createElement("img");l.src=e.background_image,l.alt=e.name,l.className="w-full h-full object-cover",m.append(l),a.append(m);const p=document.createElement("div");p.className="p-4 w-[90%] border border-card mx-auto relative top-[-8vh] min-h-[20vh] bg-light-card dark:bg-card rounded-[15px] bg-opacity-80 z-[1] text-[0.8rem] 2xs:text-[1rem] xs:text-[1.2rem] sm:p-6 sm:text-[1.4rem] md:text-[1.6rem] lg:text-[1.4rem] lg:p-8 xl:text-[1.6rem]",a.append(p);const h=document.createElement("h1");h.className="font-extrabold mb-6 text-[1.2rem] 2xs:text-[1.4rem] xs:text-[1.6rem] sm:text-[1.8rem] md:text-[2rem] lg:text-[1.8rem] xl:text-[2rem]",h.textContent=e.name,p.append(h);const v=document.createElement("div");v.className="flex flex-wrap my-5 gap-4 xl:gap-6 xl:my-10",p.append(v),e.genres.forEach(u=>{const y=document.createElement("span");y.className="text-light-primary dark:text-primary text-bold text-card rounded-full text-center bg-opacity-30 min-w-12 px-3 py-1 sm:px-4 sm:py-2 xl:px-5 xl:py-3",y.textContent=u.name,u.name==="Action"&&y.classList.add("bg-purple-500","text-purple-600"),u.name==="Adventure"&&y.classList.add("bg-blue-500","text-blue-600"),u.name==="Racing"&&y.classList.add("bg-yellow-500","text-yellow-600"),u.name==="Strategy"&&y.classList.add("bg-green-500","text-green-600"),u.name==="Sports"&&y.classList.add("bg-red-500","text-red-600"),u.name==="Shooter"&&y.classList.add("bg-pink-500","text-pink-600"),u.name==="Simulation"&&y.classList.add("bg-indigo-500","text-indigo-600"),u.name==="Puzzle"&&y.classList.add("bg-orange-500","text-orange-600"),u.name==="Indie"&&y.classList.add("bg-gray-500","text-black"),y.textContent=u.name,v.append(y)});const g=document.createElement("div");g.className="flex flex-wrap my-5 gap-4 text-[0.8rem] 2xs:text-[1rem] 2xs:gap-y-4 2xs:gap-x-8 xs:text-[1.2rem] sm:text-[1.4rem] sm:gap-y-4 sm:gap-x-10 md:text-[1.6rem] lg:text-[1.4rem] xl:text-[1.6rem] xl:gap-y-4 xl:gap-x-12",p.append(g);const E=document.createElement("div");E.className="flex flex-col justify-start gap-y-2 items-center max-w-14 2xs:max-w-19 sm:max-w-32 text-center",g.append(E);const w=document.createElement("i");w.className="w-[4vh] h-[4vh] text-light-primary dark:text-primary bg-light-card dark:bg-card rounded-full flex items-center justify-center",w.classList.add("fa-regular","fa-star"),E.append(w);const S=document.createElement("span");S.className="font-bold",S.textContent=e.rating,E.append(S);const k=document.createElement("div");k.className="flex flex-col justify-start gap-y-2 items-center max-w-14 2xs:max-w-19 sm:max-w-32 text-center",g.append(k);const j=document.createElement("i");j.className="w-[4vh] h-[4vh] text-light-primary dark:text-primary bg-light-card dark:bg-card rounded-full flex items-center justify-center",j.classList.add("fa-regular","fa-calendar"),k.append(j);const C=document.createElement("span");C.className="font-bold",C.textContent=e.released,k.append(C),e.platforms.forEach(({platform:u})=>{const y=document.createElement("div");y.className="flex flex-col justify-start gap-y-2 items-center max-w-14 2xs:max-w-19 sm:max-w-32 text-center",g.append(y);const N=document.createElement("i");N.className="w-[4vh] h-[4vh] text-light-primary dark:text-primary bg-light-card dark:bg-card rounded-full flex items-center justify-center",u.name==="PC"?N.classList.add("fa-brands","fa-windows"):u.name.includes("PlayStation")?N.classList.add("fa-brands","fa-playstation"):u.name.includes("Xbox")?N.classList.add("fa-brands","fa-xbox"):u.name.includes("iOS")||u.name.includes("macOS")?N.classList.add("fa-brands","fa-apple"):u.name.includes("Android")?N.classList.add("fa-brands","fa-android"):u.name.includes("Linux")?N.classList.add("fa-brands","fa-linux"):N.classList.add("fa-solid","fa-gamepad"),y.append(N);const U=document.createElement("span");U.className="font-bold",U.textContent=u.name,y.append(U)});const F=document.createElement("div");F.className="p-4 w-[90%] border border-card mx-auto relative top-[-4vh] min-h-[30vh] bg-light-card dark:bg-card rounded-[15px] bg-opacity-80 text-[0.8rem] 2xs:text-[1rem] xs:text-[1.2rem] sm:p-6 sm:text-[1.4rem] md:text-[1.6rem] lg:text-[1.4rem] lg:p-8 xl:text-[1.6rem]",a.append(F);const B=document.createElement("h2");B.className="font-extrabold mb-6",B.textContent="About",F.append(B);const D=document.createElement("p");D.className="font-bold text-light-secondary dark:text-secondary",D.textContent=e.description,F.append(D);const $=document.createElement("div");$.className="p-4 w-[90%] border border-card mx-auto min-h-[10vh] bg-light-card dark:bg-card rounded-[15px] bg-opacity-80 text-[0.8rem] 2xs:text-[1rem] xs:text-[1.2rem] sm:text-[1.4rem] sm:p-6 md:text-[1.6rem] lg:text-[1.4rem] lg:p-8 xl:text-[1.6rem]",a.append($);const A=document.createElement("h2");A.className="font-extrabold mb-6",A.textContent="Infos",$.append(A);const P=document.createElement("div");P.className="flex justify-between items-center my-5",$.append(P);const q=document.createElement("span");q.className="font-bold text-light-secondary dark:text-secondary",q.textContent="Publishers",P.append(q);const R=document.createElement("span");R.className="font-bold text-light-primary dark:text-primary",R.textContent=e.publishers.map(u=>u.name).join(", "),P.append(R);const G=document.createElement("div");G.className="flex justify-between items-center",$.append(G);const J=document.createElement("span");J.className="font-bold text-light-secondary dark:text-secondary",J.textContent="Developers",G.append(J);const z=document.createElement("span");z.className="font-bold text-light-primary dark:text-primary",z.textContent=e.developers.map(u=>u.name).join(", "),G.append(z),a.append(d)},f=()=>{d.innerHTML="",d.className="w-[90%] mx-auto my-[4vh] flex justify-center items-center px-6 py-3 font-bold text-primary bg-blue-500 text-[0.8rem] 2xs:text-[1rem] xs:text-[1.2rem] sm:text-[1.4rem] md:text-[1.6rem] lg:text-[1.4rem] lg:py-5 xl:text-[1.6rem] rounded-[30px]";const m=document.createElement("i");m.className="mr-4",V(e)?m.classList.add("fa-solid","fa-heart","text-red-500"):m.classList.add("fa-regular","fa-heart","text-light-primary","dark:text-primary"),d.append(m);const l=document.createElement("span");l.textContent=V(e)?"Remove from favorites":"Add to favorites",d.append(l),d.onclick=()=>{V(e)?Ce(e):Ne(e),f()},a.append(d)},b=()=>{a.innerHTML="",x(),f()};return K(async()=>{try{const m=X();m.classList.add("h-screen"),a.append(m),e=await(await fetch(`https://debuggers-games-api.duckdns.org/api/games/${t}`)).json(),m.remove(),x(),f()}catch{a.innerHTML="",a.append(I(b))}},[]),a},oe=localStorage.getItem("theme");oe&&document.documentElement.classList.add(oe);const ke=document.getElementById("app"),_=ge(ke,[{path:"/",component:Le},{path:"/favorites",component:Ee},{path:"/game/:id",component:Se,paramTypes:{id:"number"}}]);document.body.prepend(he(_.currentPath,_.navigate));
